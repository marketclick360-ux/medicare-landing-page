<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Find the Right Medicare Plan for You</title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="questionnaire.css">
</head>

<header class="site-header">
  <a href="#main-content" class="skip-link">Skip to main content</a>
      <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <div class="header-inner">
    <div class="logo-area">
      <span class="logo-mark" aria-hidden="true">✓</span>
      <span class="logo-text">Medicare Help Center</span>
    </div>

    <nav class="main-nav" aria-label="Primary">
      <a href="#how-it-works-heading">How it works</a>
      <a href="#reviews-heading">Reviews</a>
      <a href="#faq-heading">FAQ</a>
      <a href="#lead-form" class="nav-cta">Get started</a>
    </nav>
  </div>
</header>

<main id="main-content">
  <!-- Hero & lead form -->
  <section class="hero" aria-labelledby="hero-heading">
    <div class="hero-inner">
      <div class="hero-copy">
        <h1 id="hero-heading">Find the right Medicare plan for you</h1>
        <p>
          Answer a few simple questions and get help comparing Medicare Advantage, Supplement, and Part D options.
        </p>
        <ul class="hero-points">
          <li>Licensed agents</li>
          <li>No obligation to enroll</li>
          <li>Plans from multiple carriers</li>
        </ul>
      </div>

      <aside class="hero-form" aria-label="Start Medicare questionnaire">
        <h2 id="lead-form-heading">Start your free Medicare check</h2>
        <p class="form-helper">It only takes a couple of minutes.</p>

        <form id="lead-form" novalidate>
          <div class="form-group">
            <label for="zip">ZIP code</label>
            <input
              id="zip"
              name="zip"
              type="text"
              inputmode="numeric"
              autocomplete="postal-code"
              required
            >
          </div>

          <div class="form-group">
            <label for="dob">Date of birth</label>
            <input
              id="dob"
              name="dob"
              type="date"
              required
            >
          </div>

          <div class="form-group">
            <fieldset>
              <legend>Are you already enrolled in Medicare?</legend>
              <label>
                <input type="radio" name="enrolled" value="yes" required >
                Yes
              </label>
              <label>
                <input type="radio" name="enrolled" value="no" >
                No
              </label>
            </fieldset>
          </div>

          <button type="submit" class="btn-primary">
            See my Medicare options
          </button>

          <p class="disclaimer">
            By clicking “See my Medicare options”, you agree to be contacted by a licensed insurance agent about Medicare options. This is a solicitation for insurance.
          </p>

          <div
            id="form-status"
            class="status"
            role="status"
            aria-live="polite"
            tabindex="-1"
          ></div>
        </form>
      </aside>
    </div>
  </section>

  <!-- How it works -->
  <section class="how-it-works" aria-labelledby="how-it-works-heading">
    <h2 id="how-it-works-heading">How it works</h2>
    <ol class="steps">
      <li>Answer a few questions about your Medicare needs and location.</li>
      <li>A licensed agent reviews plans that may fit your situation.</li>
      <li>You decide if you want to enroll in a plan that works for you.</li>
    </ol>
  </section>

  <!-- Reviews / trust -->
  <section class="testimonials" aria-labelledby="reviews-heading">
    <h2 id="reviews-heading">What people say</h2>
      <div class="testimonial">
        <div class="testimonial-name">Maria, 67</div>
        <p>
          “The process was simple and they helped me understand my Medicare options without pressure.”
        </p>
      </div>
      <div class="testimonial">
        <div class="testimonial-name">James, 72</div>
        <p>
          “I was able to compare plans in my ZIP code and find one that included my doctors.”
        </p>
      </div>
  </section>

  <!-- FAQ -->
  <section class="faq" aria-labelledby="faq-heading">
    <h2 id="faq-heading">Common Medicare questions</h2>

    <details>
      <summary>Does this cost anything?</summary>
      <p>
        There is no cost to use this service. If you choose to enroll, plan premiums are set by the insurance company.
      </p>
    </details>

    <details>
      <summary>Do I have to enroll after getting information?</summary>
      <p>
        No. You can review your options and decide if any plan is right for you.
      </p>
    </details>

    <details>
      <summary>Will this affect my Medicare benefits?</summary>
      <p>
        Getting information does not change your current Medicare coverage. Changes only occur if you choose to enroll in a new plan.
      </p>
    </details>
  </section>
</main>

<footer class="site-footer">
  <div class="footer-inner">
    <p class="footer-text">
      Medicare Help Center is operated by a licensed insurance agency. Not connected with or endorsed by the U.S. government or the federal Medicare program.
    </p>
    <p class="footer-text">
      For accommodation of persons with special needs at meetings, please call the number provided in your plan information.
    </p>
    <p class="footer-text">
      © <span id="footer-year"></span> Medicare Help Center. All rights reserved.
    </p>
  </div>
</footer>

<script>
  // Simple footer year
  document.getElementById('footer-year').textContent = new Date().getFullYear();
</script>

      <script>
        // Initialize Supabase
        const SUPABASE_URL = 'https://bmnujxicimvnxkqqhhun.supabase.co';
        const SUPABASE_ANON_KEY = 'YOUR_ANON_KEY_HERE'; // You'll need to get this from API Keys page
        const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        // Handle form submission
        const form = document.getElementById('lead-form');
        if (form) {
            form.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                // Get form data
                const formData = new FormData(form);
                const leadData = {
                    name: formData.get('name'),
                    email: formData.get('email'),
                    phone: formData.get('phone'),
                    zip: formData.get('zip')
                };
                
                try {
                    // Insert data into Supabase
                    const { data, error } = await supabase
                        .from('leads')
                        .insert([leadData]);
                    
                    if (error) throw error;
                    
                    // Success! Show message or redirect
                    alert('Thank you! We\'ll contact you soon.');
                    form.reset();
                } catch (error) {
                    console.error('Error saving lead:', error);
                    alert('Sorry, there was an error. Please try again.');
                }
            });
        }
    </script>
