<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Find Your Perfect Medicare Plan - Quick Assessment</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif; padding: 20px; }
    .questionnaire-container { max-width: 640px; margin: 0 auto; }
    .question-step { display: none; }
    .question-step.active { display: block; }
    .answers label { display: block; padding: 8px 0; cursor: pointer; }
    .nav-buttons { margin-top: 20px; display: flex; justify-content: space-between; }
    button { padding: 10px 18px; border-radius: 6px; border: none; cursor: pointer; }
    .btn-secondary { background: #e5e7eb; }
    .btn-primary { background: #f97316; color: white; }
  </style>
</head>
<body>
  <div class="questionnaire-container">
    <form id="questionnaireForm">

      <!-- STEP 1 -->
      <div class="question-step active" data-step="1">
        <p>1 of 7</p>
        <h1>Let's find your ideal Medicare plan</h1>
        <p>How would you describe your current health?</p>

        <div class="answers">
          <label>
            <input type="radio" name="health" value="excellent">
            Excellent – Rarely see doctors, no medications
          </label>
          <label>
            <input type="radio" name="health" value="good">
            Good – Occasional visits, 1–2 medications
          </label>
          <label>
            <input type="radio" name="health" value="fair">
            Fair – Regular visits, 3–5 medications
          </label>
          <label>
            <input type="radio" name="health" value="managing">
            Managing Conditions – Frequent care, 6+ medications
          </label>
        </div>

        <div class="nav-buttons">
          <button type="button" class="btn-secondary" data-prev disabled>← Previous</button>
          <button type="button" class="btn-primary" data-next>Next →</button>
        </div>
      </div>

      <!-- STEP 2 (example placeholder, copy/edit for steps 3–7) -->
      <div class="question-step" data-step="2">
        <p>2 of 7</p>
        <h2>Which doctors are most important to keep?</h2>
        <p>Select the best description; we’ll confirm exact doctors later.</p>

        <div class="answers">
          <label><input type="radio" name="doctors" value="pcp-only"> Just my primary doctor</label>
          <label><input type="radio" name="doctors" value="pcp-specialists"> PCP + a few specialists</label>
          <label><input type="radio" name="doctors" value="any"> I’m flexible on doctors</label>
        </div>

        <div class="nav-buttons">
          <button type="button" class="btn-secondary" data-prev>← Previous</button>
          <button type="button" class="btn-primary" data-next>Next →</button>
        </div>
      </div>

      <!-- TODO: add steps 3–7 here in the same pattern -->

    </form>
  </div>

  <script>
    const steps = Array.from(document.querySelectorAll('.question-step'));
    let currentStepIndex = 0;

    function showStep(index) {
      steps.forEach((step, i) => {
        step.classList.toggle('active', i === index);
      });
      currentStepIndex = index;
    }

    function validateCurrentStep() {
      const activeStep = steps[currentStepIndex];
      const requiredInputName = activeStep.querySelector('input[type="radio"]')?.name;
      if (!requiredInputName) return true; // nothing to validate

      const checked = activeStep.querySelector('input[name="' + requiredInputName + '"]:checked');
      if (!checked) {
        alert('Please choose an option to continue.');
        return false;
      }
      return true;
    }

    document.addEventListener('click', function (e) {
      if (e.target.matches('[data-next]')) {
        if (!validateCurrentStep()) return;
        if (currentStepIndex < steps.length - 1) {
          showStep(currentStepIndex + 1);
        } else {
          document.getElementById('questionnaireForm').submit();
        }
      }
      if (e.target.matches('[data-prev]')) {
        if (currentStepIndex > 0) {
          showStep(currentStepIndex - 1);
        }
      }
    });
  </script>
</body>
</html>
